
--- Installing OpenVAS ---

• Install OpenVAS repositories

The installation procedure for OpenVAS can vary based on how you decide to install. You can install from Kali/OpenVAS repos, install from source, or run from a docker container. 
The preferred method is to run it inside a docker container as we don't have to worry about a lot of the setup or errors that we may run into with other installation methods.

-- Install OpenVAS repositories --

➜ Docker

⇒ Install Docker

$ sudo apt update
$ sudo apt install docker.io -y
$ sudo systemctl enable docker --now
$ sudo systemctl status docker
$ sudo usermod -aG docker $USER
$ logout
$ docker --version

⇒ Install OpenVAS

$ docker pull mikesplain/openvas:9
$ docker run -d -p 443:443 --name openvas mikesplain/openvas

https://127.0.0.1

⇒ Error Message: Login failed. Waiting for OMP service to become available

It always means that the OpenVAS container hasn’t fully started internally.
With mikesplain/openvas, this almost always happens because the old OpenVAS-9 container takes a very long time to start or gets stuck.

$ docker logs -f openvas
$ docker ps
$ docker logs --tail 30 openvas
$ netstat -antp

#Testing redis status...
Redis not yet ready...
Redis not yet ready...
Redis not yet ready...
Redis not yet ready...
Redis not yet ready...
Redis ready.
Checking for empty volume
Restarting services
 * Restarting openvas-scanner openvassd
   ...done.
 * Restarting openvas-manager openvasmd
   ...done.
 * Restarting openvas-gsa gsad
   ...done.
Reloading NVTs

The container is currently loading the NVTs (Vulnerability Tests). During this time, logging in is NOT possible.


-- Installing GVM --

$ sudo apt update
$ sudo install gvm
$ sudo gvm-setup

Copy the Password for the admin account 

$ sudo gvm-check-setup
$ netstat -antp
$ sudo apt update :9392
$ sudo gvm-start

https://127.0.0.1:9392

Username: admin
Password: 

Feed Status
Check with Metasploitable
Scans: Tasks

*
