
Passive information gathering is the process of collecting information about a specific target from publicly available sources that can be accessed by anyone. They include search engine data, social media, online databases and even the company website. This kind of information gathering is all about ‘getting to know your target’ and is usually performed before starting the actual penetration test because it may yield valuable information for later use. 
Some of this information can be important and, when combined with other data, may become a serious security threat. Think of how employee names can be combined with company naming conventions to generate real and useable account names. This kind of data can be used to perform more effective password attacks for hackers to gain an initial beachhead on the company network.

Passive information gathering activities should be focused on identifying IP addresses, (sub)domains, finding external partners and services, the types of technologies used and any other useful information (including the names of employees working at the company, e-mail addresses, websites, customers, naming conventions, E-mail & VPN systems and sometimes even passwords).

There are numerous sources that can be used for passive enumeration including:

• Google, Bing, Yahoo, Shodan, Netcraft and other search engines
• Social media such as LinkedIn, Twitter, Facebook & Instagram
• Company websites
• Press releases
• Discussion forums
• Whois databases
• Data Breaches


Semi-passive information gathering
When passive information gathering methods do connect to (company) servers to obtain intelligent by behaviours and activities that appear normal, we are talking about semi-passive information gathering. An example would, for instance, be visiting the target’s company website to collect information about staff or technology that is in use by the target. During this visit the pentester mimics the behaviour of a regular visitor and only clicks visible links, access public locations and behave as any regular visitor would do without drawing attention. In such a case any intrusion detection system (IDS) or systems technician will be unable to distinguish the pentester’s traffic from other regular traffic and the activity will pass unnoticed.


DNS Enumeration
DNS enumeration is the process of identifying the DNS servers and the corresponding DNS records. DNS stands for Domain Name System which is a database containing information about domain names and their corresponding IP addresses. The DNS system is responsible for translating human-readable hostnames into machine-readable IP addresses.

• A (address) records containing the IP address of the domain.
• MX records, which stands for Mail Exchange, contain the mail exchange servers.
• CNAME records used for aliasing domains. CNAME stands for Canonical Name and links any sub-domains with existing domain DNS records.
• NS records, which stands for Name Server, indicates the authoritative (or main) name server for the domain.
• SOA records, which stands for State of Authority, contain important information about the domain such as the primary name server, a timestamp showing when the domain was last updated and the party responsible for the domain.
• PTR or Pointer Records map an IPv4 address to the CNAME on the host. This record is also called a ‘reverse record’ because it connects a record with an IP address to a hostname instead of the other way around.
• TXT records contain text inserted by the administrator (such as notes about the way the network has been configured).

The information retrieved during DNS enumeration will consist of details about names servers and IP addresses of potential targets (such as mail servers, sub-domains etc).
Some tools used for DNS enumeration included with Kali Linux are: whois, nslookup, dig, host and automated tools like Fierce, DNSenum and DNSrecon.

Note: Performing DNS enumeration with tools like whois, host and nslookup without prior permission of the domain owner is not illegal because they use information that is publicly available.

Whois
A Whois lookup can be used to get general information about the domain such as the registrar, domain owner, their contact information and the DNS server used. 

whois [domain]

└─$ whois google.com
   Domain Name: GOOGLE.COM
   Registry Domain ID: 2138514_DOMAIN_COM-VRSN
   Registrar WHOIS Server: whois.markmonitor.com
   Registrar URL: http://www.markmonitor.com
   Updated Date: 2019-09-09T15:39:04Z
   Creation Date: 1997-09-15T04:00:00Z
   Registry Expiry Date: 2028-09-14T04:00:00Z
   Registrar: MarkMonitor Inc.
   Registrar IANA ID: 292
   Registrar Abuse Contact Email: abusecomplaints@markmonitor.com
   Registrar Abuse Contact Phone: +1.2086851750
   Domain Status: clientDeleteProhibited https://icann.org/epp#clientDeleteProhibited
   Domain Status: clientTransferProhibited https://icann.org/epp#clientTransferProhibited
   Domain Status: clientUpdateProhibited https://icann.org/epp#clientUpdateProhibited
   Domain Status: serverDeleteProhibited https://icann.org/epp#serverDeleteProhibited
   Domain Status: serverTransferProhibited https://icann.org/epp#serverTransferProhibited
   Domain Status: serverUpdateProhibited https://icann.org/epp#serverUpdateProhibited
   Name Server: NS1.GOOGLE.COM
   Name Server: NS2.GOOGLE.COM
   Name Server: NS3.GOOGLE.COM
   Name Server: NS4.GOOGLE.COM
   DNSSEC: unsigned
   URL of the ICANN Whois Inaccuracy Complaint Form: https://www.icann.org/wicf/
>>> Last update of whois database: 2025-01-13T22:39:07Z <<<


Nslookup
Nslookup stands for Name Server lookup and this tool is used for querying the domain name system in order to obtain DNS records. By default, nslookup translates a domain name to an IP address

nslookup [domain]

└─$ nslookup google.com
Server:         192.168.42.2
Address:        192.168.42.2#53

Non-authoritative answer:
Name:   google.com
Address: 142.251.209.142
Name:   google.com
Address: 2a00:1450:4005:801::200e

nslookup -type=[Record type] [domain]

nslookup -type=mx google.com 
nslookup -type=txt google.com 
nslookup -type=any google.com 8.8.8.8

SPF Record: A Sender Policy Framework (SPF) record is a type of Domain Name Service (DNS) record that identifies which mail servers are permitted to send email on behalf of your domain. The purpose of an SPF record is to prevent spammers from sending messages with forged ‘From’ addresses purporting to come from your domain. The receiving mail server can use the SPF record to check if the message comes from an authorized mail server. If not, it will be flagged as suspicious on the receiving end.


Host
Host is another simple application for performing DNS lookups. It can be used to convert domain names to IP addresses and vice versa. 

└─$ host google.com 
google.com has address 142.251.209.142
google.com has IPv6 address 2a00:1450:4005:801::200e
google.com mail is handled by 10 smtp.google.com.


Zone transfers












